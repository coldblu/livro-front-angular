{"openapi":"3.0.1","info":{"title":"Atividade01 CRUD de Livros","license":{"name":"Apache License 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"},"version":"v1"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/v1/livro/devolucao/{id}":{"put":{"tags":["emprestimo-controller"],"description":"Método utilizado para finalizar um emprestimo.","operationId":"devolucao","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Emprestimo finalizado!","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmprestimoDTO"}}}}}}},"/api/v1/livro/alterar/{id}":{"put":{"tags":["livro-controller"],"description":"Método utilizado para altlerar os dados de um livro","operationId":"alterar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LivroAlteravelDTO"}}},"required":true},"responses":{"200":{"description":"Livro Alterado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LivroDTO"}}}}}}},"/api/v1/pessoa/incluir_pessoa":{"post":{"tags":["pessoa-controller"],"description":"Método utilizado para cadastrar ´pessoa","operationId":"incluirPessoa","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PessoaDTO"}}},"required":true},"responses":{"200":{"description":"Pessoa Incluída","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PessoaDTO"}}}}}}},"/api/v1/livro/incluir":{"post":{"tags":["livro-controller"],"description":"Método utilizado para realizar a inclusão de um livro","operationId":"incluir","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LivroAlteravelDTO"}}},"required":true},"responses":{"200":{"description":"Livro Incluído","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LivroDTO"}}}}}}},"/api/v1/livro/excluirEmprestimo/{id}":{"post":{"tags":["emprestimo-controller"],"description":"Método utilizado para deletar registro do emprestimo","operationId":"excluirEmprestimo","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Emprestimo Excluído","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Emprestimo"}}}}}}},"/api/v1/livro/emprestar":{"post":{"tags":["emprestimo-controller"],"description":"Emprestar livro.","operationId":"emprestar","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmprestimoDTO"}}},"required":true},"responses":{"200":{"description":"Emprestimo realizado com sucesso!","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmprestimoDTO"}}}},"404":{"description":"Erro ao realizar emprestimo.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EmprestimoDTO"}}}}}}},"/api/v1/livro/deletar/{id}":{"post":{"tags":["livro-controller"],"description":"Método utilizado para deletar livro do banco de dados","operationId":"excluir","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LivroDTO"}}},"required":true},"responses":{"200":{"description":"Livro Excluído","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Livro"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth-controller"],"description":"Logar no sistema","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDTO"}}},"required":true},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Usuario"}}}}},"403":{"description":"Proibido","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponse"}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponse"}}}}}}}},"/api/v1/auth/cadastro":{"post":{"tags":["auth-controller"],"description":"Cadastrar no sistema","operationId":"cadastro","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CadastroDTO"}}},"required":true},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CadastroDTO"}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponse"}}}}}}}},"/api/v1/pessoa/buscar_pessoa/{id}":{"get":{"tags":["pessoa-controller"],"description":"Busca pessoa","operationId":"buscarPessoa","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Pessoa encontrada","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PessoaDTO"}}}},"404":{"description":"Pessoa não encontrada","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PessoaDTO"}}}}}}},"/api/v1/livro/verificarEmprestimoAtivo/{livroId}":{"get":{"tags":["emprestimo-controller"],"description":"Verificar se o livro possui empréstimo ativo","operationId":"verificarEmprestimoAtivo","parameters":[{"name":"livroId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Verificação concluída","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/livro/listar":{"get":{"tags":["livro-controller"],"description":"Listagem Geral dos livros","operationId":"listAll","responses":{"200":{"description":"Listagem de livros","content":{"application/json":{}}},"400":{"description":"Nao encontrado","content":{"application/json":{}}}}}},"/api/v1/livro/finalizados":{"get":{"tags":["emprestimo-controller"],"description":"Listar empréstimos finalizados","operationId":"listarEmprestimosFinalizados","responses":{"200":{"description":"Lista de empréstimos ativos","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EmprestimoListaDTO"}}}}}}}},"/api/v1/livro/buscar/{id}":{"get":{"tags":["livro-controller"],"description":"Buscar um livro pelo título","operationId":"buscar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Livro encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LivroDTO"}}}},"404":{"description":"Livro não encontrado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LivroDTO"}}}}}}},"/api/v1/livro/ativos":{"get":{"tags":["emprestimo-controller"],"description":"Listar empréstimos ativos","operationId":"listarEmprestimosAtivos","responses":{"200":{"description":"Lista de empréstimos ativos","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EmprestimoListaDTO"}}}}}}}}},"components":{"schemas":{"EmprestimoDTO":{"type":"object","properties":{"idEmprestimo":{"type":"integer","format":"int64"},"livroID":{"type":"integer","format":"int64"},"pessoaID":{"type":"integer","format":"int64"},"dataEmprestimo":{"type":"string","format":"date"},"dataDevolucao":{"type":"string","format":"date"}}},"LivroAlteravelDTO":{"type":"object","properties":{"titulo":{"type":"string"},"autor":{"type":"string"},"anoPublicacao":{"type":"integer","format":"int32"},"editora":{"type":"string"},"genero":{"type":"string"},"numeroDePaginas":{"type":"integer","format":"int32"}}},"LivroDTO":{"type":"object","properties":{"idLivro":{"type":"integer","format":"int64"},"titulo":{"type":"string"},"autor":{"type":"string"},"anoPublicacao":{"type":"integer","format":"int32"},"editora":{"type":"string"},"genero":{"type":"string"},"numeroDePaginas":{"type":"integer","format":"int32"},"dataDeRegistro":{"type":"string","format":"date"}}},"PessoaDTO":{"type":"object","properties":{"idPessoa":{"type":"integer","format":"int64"},"nomePessoa":{"type":"string"},"emailPessoa":{"type":"string"}}},"Emprestimo":{"type":"object","properties":{"idEmprestimo":{"type":"integer","format":"int64"},"livro":{"$ref":"#/components/schemas/Livro"},"pessoa":{"$ref":"#/components/schemas/Pessoa"},"dataEmprestimo":{"type":"string","format":"date"},"dataDevolucao":{"type":"string","format":"date"}}},"Livro":{"type":"object","properties":{"idLivro":{"type":"integer","format":"int64"},"titulo":{"type":"string"},"autor":{"type":"string"},"anoPublicacao":{"type":"integer","format":"int32"},"editora":{"type":"string"},"genero":{"type":"string"},"numeroDePaginas":{"type":"integer","format":"int32"},"dataDeRegistro":{"type":"string","format":"date"}}},"Pessoa":{"type":"object","properties":{"idPessoa":{"type":"integer","format":"int64"},"nomePessoa":{"type":"string"},"emailPessoa":{"type":"string"}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"Usuario":{"type":"object","properties":{"idUsuario":{"type":"integer","format":"int64"},"emailUsuario":{"type":"string"},"senhaUsuario":{"type":"string"},"role":{"type":"string"},"credentialsNonExpired":{"type":"boolean"},"accountNonExpired":{"type":"boolean"},"enabled":{"type":"boolean"},"username":{"type":"string"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"password":{"type":"string"},"accountNonLocked":{"type":"boolean"}}},"FieldResponse":{"type":"object","properties":{"attribute":{"type":"string","description":"Nome do atributo"},"description":{"type":"string","description":"Descrição da validação"}},"description":"Atributos de validação"},"MessageResponse":{"type":"object","properties":{"code":{"type":"string","description":"Código da Mensagem"},"status":{"type":"integer","description":"Status HTTP","format":"int32"},"error":{"type":"string","description":"Descrição erro HTTP"},"message":{"type":"string","description":"Mensagem de negócio"},"parameters":{"type":"array","description":"Parâmetros da mensagem","items":{"type":"object","description":"Parâmetros da mensagem"}},"attributes":{"type":"array","description":"Atributos de validação","items":{"$ref":"#/components/schemas/FieldResponse"}}}},"AuthDTO":{"type":"object","properties":{"login":{"type":"string"},"senha":{"type":"string"}}},"CadastroDTO":{"type":"object","properties":{"login":{"type":"string"},"senha":{"type":"string"}}},"EmprestimoListaDTO":{"type":"object","properties":{"idEmprestimo":{"type":"integer","format":"int64"},"livroID":{"type":"integer","format":"int64"},"pessoaID":{"type":"integer","format":"int64"},"dataEmprestimo":{"type":"string","format":"date"},"dataDevolucao":{"type":"string","format":"date"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}
